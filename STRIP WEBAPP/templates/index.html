{% extends "base.html" %}

{% block the_body %}
       <h2>GIP Strip Web App</h2>

       <p>Welcome to my 4th Year Project!</p>

       <p><img id="blah" alt="your image" width="400" height="400" hidden /></p>



       <form action="/results" method="POST">
       <input type="text" name="answer" id="code" hidden>
       <p><input type="file" accept=".jpeg, .jpg"  onchange="encodeImageFileAsURL(this)" required></p>
       Username: <input type="text" name="Username" value="" required><br>
       <p></p>
       Result: <input type="text" name="UserResult" value="" required><br>
       <p><input type="submit" value="Submit"></p>
       </form>

       <script>
         function encodeImageFileAsURL(element) {

           var file = element.files[0];
           var reader = new FileReader();
           reader.onloadend = function() {
             console.log('RESULT', reader.result)
             document.getElementById('code').value = reader.result
             document.getElementById('blah').src = reader.result
             document.getElementById('blah').removeAttribute("hidden")
           }
           reader.readAsDataURL(file);
         }
       </script>
{% endblock %}
